<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Study Tracker</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width initial-scale=1.0">
       
        <link rel="manifest" href="manifest.json">
        
        
        
        <script>
            // Wait for the window to fully load to ensure all resources are ready
            window.onload = function() {
                if ('serviceWorker' in navigator) {
                    // Register the service worker, setting the scope to the current directory './'
                    navigator.serviceWorker.register('serviceworker.js', {scope: './'})
                        .then(function(registration) {
                            console.log('Service Worker registered successfully with scope:', registration.scope);
                        })
                        .catch(function(error) {
                            console.error('Service Worker registration failed:', error);
                        });
                } else {
                    console.warn('Service Workers are not supported by this browser.');
                }
            };
        </script>
       <link rel="stylesheet" href="all.min.css">
		<link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div>
           	<div id="menu-container">
            	<p class="menu-btn" onclick="toggleMenu()">‚ò∞</p>
        	</div>
         	
		      
		    <div class="error-message" id="errorMessage"></div>
		    <div class="success-message" id="successMessage">
				<p id="quoteDisplay" ></p>
		    </div>
		    </div>
            
            <div id="none" class="tab-content">
                
            </div>


                <!--Login page-->
                <div id="login" class="login-container">
                    <div class="header">
                        <h1>Academic Study Tracker</h1>
                        <p>Login to access Study Tracker</p>
                    </div>

                    <div class="login-form">

                        <form id="loginForm" method="post">
                            <div class="form-group">
                                <label for="username">Username or Email</label>
                                <input type="text" id="username" min="8" placeholder="Enter your username or email" required>
                            </div>

                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" min="5" placeholder="Enter your password" required>
                            </div>

                            <button type="submit" class="login-btn">Login</button>
                        </form>
                        <div class="divider"><span onclick="document.getElementById('login').classList.remove('active');document.getElementById('reLogin').classList.add('active')">Forgot password</span></div>
                        <button class="login-btn" onclick="document.getElementById('login').classList.remove('active');startRedirect_SignIn()">Create Account</button>
                        
                    </div>
                </div>
                
                <!--SignIn-->
                <div id="signIn" class="login-container">
                    
                </div>
                
                
                <!--forgot password-->
                <div id="reLogin" class="login-container">
                    <div class="header">
                        <h1> Academic Study Tracker</h1>
                        <p>Login to access Study Tracker</p>
                    </div>

                    <div class="login-form">
                        <div class="error-message" id="2errorMessage"></div>
                        <div class="success-message" id="successMessage"></div>

                        <form id="reLoginForm" method="post">
                            <div class="form-group">
                                <label for="username">Email</label>
                                <input type="email" id="reEmail" min="10" placeholder="Enter your email" required>
                            </div>

                            <div class="form-group">
                                <label for="password">Username</label>
                                <input type="text" id="reUserName" min="8" placeholder="Enter your full name" required>
                            </div>
                            <div class="form-group">
                                <label for="username">Phone Number</label>
                                <input type="number" min="880000000" id="rePhoneNumber" placeholder="Enter your phone number" required>
                            </div>

                            <button type="submit" class="login-btn">Submit</button>
                        </form>
                        
     
                    </div>
                </div>
            
            
         <!-- Track Study Tab -->
         
        <div id="track" class="tab-content">
			<header>
                <h1>üìö Study Tracker Pro</h1>
                <p>Track your progress and improve your study habits - 90% Offline</p>
            </header>
            <header>
				<h2>Log Your Study Session</h2>
            </header>
            <form id="form">
            <div class="form-group">
                <label>Subject</label>
                <select id="studySubject" onfocus="document.getElementById('MissedTopic').style.display = 'block'; document.getElementById('myowntopic').style.display = 'block'" required >
                    <!-- Subjects will be populated here -->
                </select>
                
                <div id='MissedTopic'>
                <label>Missed Topic</label>
                <h4>Choose one to be back on track</h4>
                <select id="missedT" onfocus="updateMissedStudyTopicDropdown()" >
                    <!-- Missed topics will be populated here -->
                </select>
                </div>
            </div>
            <div id="1remove" class="form-group">
                <label>Date</label>
                <input type="date" id="studyDate" required onclick="document.getElementById('studyDate').max = today">
            </div>
            <div class="form-group">
                <label id="hourslabel">Hours Studied</label>
                <input type="number" id="studyHours" min='1' max='3' placeholder="2" required>
            </div>
            <div class="form-group">
                <label>Notes (Recommended)</label>
                <select id="myowntopic" onfocus="updateStudyTopicDropdown()"></select>
                <textarea id="studyNotes" required placeholder="What have you study?"></textarea>
            </div>
            <button>Save Study Session</button>
            </form>
            <div id="todayReminders" class="reminder">
                <h3>üì¢ Today's Reminders</h3>
                <div id="reminderList"></div>
            </div>
            <div id="missedTopicReminders" class="reminder" style="display: none;background-color: red;">
                <h3>üéØ Missed Sessions</h3>
                <div id="mTRlist"></div>
            </div>
        </div>
        
                <!-- Progress Tab -->
        <div id="progress" class="tab-content">
			<header>
				<h2>Your Study Progress</h2>
            </header>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalHours">0</div>
                    <div>Total Hours</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="subjectsCount">0</div>
                    <div>Subjects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completionRate">0%</div>
                    <div id="CompletionRate">Completion Rate: </div>
                </div>
            </div>
				
			<header>
				<h3>Subject Progress</h3>
            </header>
            <div id="progressList" class="study-grid">
                <!-- Progress bars will appear here -->
            </div>
        </div>
        
        <!-- about App-->
        <div id="about" class="tab-content">
            <header>
                <h1>About App</h1>
            </header>
            <div>
                <dt>Full App Name:</dt><dd><a href="#">MSCE G Study Tracker</a></dd>
                <br>
                <dt>Version:</dt><dd> 1.0 {Studying Register V:2.0}</dd>
                <br>
                <dt>Purpose:</dt>
                    <dd>App is designed improve Malawi enducation by to help MSCE students efficiently track and manage study or session data related to multiple subjects. 
                    It ensures that all academic progress is accurately logged and easily accessible. 
                    It also reduce panic when MSCE final exams is aroun the corner. 
                    This app is expected to improve MSCE results if it has been used correctly from first day.</dd>
                <br>
                <dt>Key Features:</dt>
                    <dd>* Secure User Management (via GAS).
                    * Subject & Session Tracking with time logging.
                    * Data Synchronization between the PWA and Google Sheets.
                    * Automated Report Generation (Weekly reports, charts).
                    * AI Integration for chat assistance, quizzes, and question-answering.</dd>
                <br>
                <dt>Terms & Policies:</dt> 
                    <dd>As an PWA tool, Data security and privacy are paramount. 
                    All user data (Subjects, Sessions, Emails) is stored exclusively within developer linked Google Sheets. 
                    The application does not share sensitive information. 
                    Review our <a href="#">Privacy Policy</a> for full details.</dd>
                    <br>
            </div>
            <div>
                <dt>Developer:</dt> <dd><a href="#">Isaac G Chitsakamire</a></dd>
                <br>
                <dt>Acknowledgements:</dt> 
                    <dd>We extend our sincere gratitude to all the poeple who took thier time helping me collecting topics and those who were testing this app.</dd>
                <br>
                <dt>Support & Feedback:</dt> 
                    <dd>For technical issues, feature requests, or bug reports, please submit an issue to <a href="">developer</a>. 
                    Your feedback is invaluable for improving the app.</dd>
                <br>
                
            </div>
            <footer>@<a href="#">MGY</a>2026...............<a href="#">IGC</a></footer>
        </div>

        <!-- Group -->
        <div id="group" class="tab-content " >
			<header>
                <h1>School Chatsüè´</h1>
         </header>
            <p style="color: rgb(247, 43, 7); text-align: center;font-family: 'Times New Roman', Times, serif;" id='warn1'>Chat with friends to refresh brain but don`t waste your time</p>
            <div id="chatsList" class="chatsList">
                <!-- chats will appear here -->
            </div>
            
            
           
            <div id="prompt-container-chat" class="chat-body">
			  <div class="fixed-card">
				<div class="card" role="group" aria-label="chat input card">

				

				  <!-- Textarea (Main Input Area) -->
				  <div class="input-wrap">
					<textarea
					  id="textprompt-chat"
					  class="textprompt"
					  placeholder="Write your message"
					  rows="1"
					  aria-label="Chat input"></textarea>
				  </div>

				  <!-- Right side actions -->
				  <div class="actions-right">
					<div style="display: none;"><span id="current-mode-chat">Chat</span></div>
                    <div id="loading-chat" class="loading-Net" style="display: none;"></div>
					<button id="send-button-chat" class="send-button" disabled title="Send">
					  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18" style="transform:rotate(90deg)">
						<path d="M3.478 2.405a.75.75 0 0 0-.926.94l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.599 60.599 0 0 0 18.442-8.31.75.75 0 0 0 0-1.374 60.599 60.599 0 0 0-18.442-8.31Z"/>
					  </svg>
					</button>
				  </div>

				</div>
			  </div>
			</div>                          
           
        </div>

        <!-- AI help -->
        <div id="gic" class="tab-content">
			<header>
                <h1>GIC AI‚ú®</h1>
         </header>
            <p id='warn2' style="color: rgb(247, 43, 7); text-align: center;font-family: 'Times New Roman', Times, serif;">My goal is to help you to succes. PlEASE TRY MULTIPLE TIMES YOURSELF FIRST BEFORE ME.</p>
            <div id="Quizresultscont" class="stat-card" style="display: none;">
                    <div class="stat-number" id="Quizresults">0%</div>
                    <div>GIC AI feedback</div>
            </div>
            <div id="AIchatsList" class="chat-container">
				
                <!-- chats will appear here -->
            </div>

            

            

            <div id="prompt-container-ai" class="chat-body">
			  <div class="fixed-card">
				<div class="card" role="group" aria-label="chat input card">

				  <!-- Left side actions -->
				  <div class="actions-left" style="position:relative;">
					<div style="position:relative;">
					  <button id="mode-button" title="Select mode">
						<!-- same inline svg as your original -->
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true">
						  <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path>
						</svg>
					  </button>

					  <div id="mode-dropdown" aria-hidden="true">
						<div class="title">Select Mode</div>
						<div style="padding:6px 4px; cursor:pointer;" data-mode="Question">Question</div>
						<div style="padding:6px 4px; cursor:pointer;" data-mode="Quiz">Quiz</div>
					  </div>
					</div>
				  </div>

				  <!-- Textarea (Main Input Area) -->
				  <div class="input-wrap">
					<textarea
					  id="textprompt-ai"
					  class="textprompt"
					  placeholder="Ask GIC AI any school question"
					  rows="1"
					  aria-label="Chat input"></textarea>
					  <select  style="display: none;" id="promptST" ></select>
				  </div>

				  <!-- Right side actions -->
				  <div class="actions-right">
					<div id="mode-display-compact"><span id="current-mode-ai">Question</span></div>
                    <div id="loading-ai" class="loading-Net" style="display: none;"></div>
					<button id="send-button-ai" class="send-button" disabled title="Send">
					  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18" style="transform:rotate(90deg)">
						<path d="M3.478 2.405a.75.75 0 0 0-.926.94l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.599 60.599 0 0 0 18.442-8.31.75.75 0 0 0 0-1.374 60.599 60.599 0 0 0-18.442-8.31Z"/>
					  </svg>
					</button>
				  </div>

				</div>
			  </div>
			</div>           
                       
        </div>

        <!-- Week Report -->
        <div id="report" class="tab-content">
            <h2 style="font-size: larger; color: red; text-align: center;font-family: 'Times New Roman', Times, serif;">Week Review & Analysis</h2>
    
            <div ></div>
            
    
        </div>
        <!-- profile Tab-->
         <div id="profile" class="tab-content">
                <header>Profile</header>
                <div id="userDetails" class="reminder">
                    
                </div>
               <div>
               
               </div>
                 <!--Timetable Created-->
                 <div id="timetable">   
            
                        <div class="header"> 
                        <p>Timetable</p>
                        </div>
                                
                              <table id="Ttable" class="table-container">
                                  <tr><th>DAY</th><th colspan="6">ALLOCATE TIME YOURSELF</th></tr>
                                  <tr id="Monday"></tr>
                                  <tr id="Tuesday"></tr>
                                  <tr id="Wednesday"></tr>
                                  <tr id="Thursday"></tr>
                                  <tr id="Friday"></tr>
                                  <tr><th colspan="7">NOTE: You can follow your study style or our Suggestions below</th></tr>
                                  <tr><td>Saturday</td><td colspan="6"><ul>-Write some exams pastpapers[<ol>=>Try to make environment like MANED exam room.</ol><ol>=>Finnish writing the paper 15min before allowed Time.</ol><ol>=>Find some to mark you and correct You or use AI but don`t depend on it.</ol><ol>=>Note: You`ll be doing this alone, so you'll be killing yourself by cheating or missing.</ol>]</ul><ul>-Review this week class exercises</ul><ul>-Your style</ul></td></tr>
                                  <tr><td>Sunday</td><td colspan="6"><ul>-Write one composition(letter,speech,report,short story)[<ol>=>Try to make environment like MANED exam room.</ol><ol>=>Finnish writing the composition within 45min.</ol><ol>=>Tomorrow Submit to your English teacher to mark you and make sure you recieve oral feedback.</ol><ol>=>Note: You`ll be doing this alone, so you'll be killing yourself by cheating or missing.</ol>]</ul><ul>-Review last week most challenging topic.</ul><ul>-Your style</ul></td></tr>  
                                </table>
                      
                </div> 
                
                    
                      
            </div>
            
         <!-- SignIn -->
		<div id="SignIN">
				<iframe id="appFrame" class="tab-content" allowfullscreen ></iframe> 
         </div>
         <!-- Review Tab -->
        <div id="review" class="tab-content">
			<header>
				<h2>Weekly Review & Feedback</h2>
            </header>
            <div id="weeklyFeedback" class="reminder">
                <p>Your weekly feedback will appear here after you start tracking your study sessions.</p>
            </div>
           
            <div id='History'>
            <header>
				<h3>Study History</h3>
			</header>
            <div id="studyHistory">
                <!-- Study sessions will appear here -->
            </div>
           </div>
        </div>

        
		 <!--
                <div class="profile-container rotate" id="profile-container">
				<div class="profile-text">MGY</div>
				</div>
                <!-- Menu Container -->
      

        <!-- Slide-in Menu -->
        <nav class="menu" id="menu">
            <a class="nav-tab active" onclick="switchTab('track')">Home</a>                         
            <a class="nav-tab" onclick="switchTab('progress');">Progress</a>            
            <a class="nav-tab" onclick="switchTab('review')">Review</a>
            <a class="nav-tab" onclick="switchTab('report')">Week Overview Report</a>
            <a class="nav-tab" onclick="switchTab('group')">Chat space</a>
            <a class="nav-tab" onclick="switchTab('gic')">GIC AI</a>
            <a class="nav-tab" onclick="switchTab('profile')">Profile</a>
            <a class="nav-tab" onclick="switchTab('about')">About</a>
        </nav>
  
  

    <script src="js/app.js"></script>
    <script src="data.js"></script>
    </body>
</html>


